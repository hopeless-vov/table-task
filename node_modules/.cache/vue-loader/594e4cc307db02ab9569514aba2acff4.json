{"remainingRequest":"/home/volodymyr.bondarenko/Desktop/table-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/volodymyr.bondarenko/Desktop/table-test/src/views/Home/index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/volodymyr.bondarenko/Desktop/table-test/src/views/Home/index.vue","mtime":1639224339841},{"path":"/home/volodymyr.bondarenko/Desktop/table-test/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/volodymyr.bondarenko/Desktop/table-test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/volodymyr.bondarenko/Desktop/table-test/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/volodymyr.bondarenko/Desktop/table-test/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/volodymyr.bondarenko/Desktop/table-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/volodymyr.bondarenko/Desktop/table-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tYWluLXdyYXBwZXIgewogIG1heC13aWR0aDogODI4cHg7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luOiAwcHggYXV0bzsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\n  <div\n    class=\"main-wrapper mt-10 mb-10\">\n    <Table\n      :headers=\"headers\"\n      :items=\"filteredPackages\"\n      @tableInfo=\"tableInfo\"/>\n    <TableInfoDialog\n      :modal=\"modal\"\n      :limit=\"10\"\n      :rowDetails=\"rowDetails\"\n      @closeTableDialog=\"closeTableDialog\"/>\n  </div>\n</template>\n\n<script>\nimport {\n  mapMutations,\n  mapGetters,\n  mapActions,\n} from 'vuex';\nimport { HTTP } from '@/plugins/http-common';\nimport Table from '../../components/Table';\nimport TableInfoDialog from '../../components/Dialog';\n  export default {\n    name: 'Home',\n    components: {\n      Table,\n      TableInfoDialog,\n    },\n    data() {\n      return {\n        headers: [\n          {\n            text: 'Package',\n            align: 'start',\n            sortable: true,\n            value: 'name',\n          },\n          {\n            text: 'Package Type',\n            value: 'type',\n            sortable: false,\n          },\n          {\n            text: 'Hits',\n            value: 'hits',\n            sortable: false,\n          },\n        ],\n        modal: false,\n        rowDetails: null,\n      }\n    },\n    async created() {\n      this.setSpinner(true);\n      await this.getAllPackages();\n      this.setSpinner(false);\n    },\n    computed: {\n      ...mapGetters(['filteredPackages']),\n    },\n    methods: {\n      ...mapMutations(['setSpinner', 'setSnackBar']),\n      ...mapActions(['getAllPackages']),\n      async tableInfo(row) {\n        const { name, type } = row;\n        this.setSpinner(true);\n        try {\n          const { data } = await HTTP.get(`${type}/${name}`);\n          this.modal = true;\n          this.rowDetails = {\n            latestVersion: data.tags.length ? data.tags.latest : data.versions[0],\n            versions: data.versions,\n            ...row,\n          };\n        } catch(err) {\n          this.setSnackBar({\n            text: 'Somethings went wrong, try to get info from another row',\n            stateSnack: true,\n          });\n          console.log('getVersions', err);\n        } finally {\n          this.setSpinner(false);\n        }\n      },\n      closeTableDialog() {\n        this.modal = false;\n        this.rowDetails = null;\n      }\n    },\n  }\n</script>\n<style lang=\"scss\">\n  .main-wrapper {\n    max-width: 828px;\n    width: 100%;\n    margin: 0px auto;\n  }\n</style>\n"]}]}